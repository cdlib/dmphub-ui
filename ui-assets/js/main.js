"use strict";if(document.querySelector(".c-progress"))for(var steps=document.querySelectorAll(".c-progress li"),i=0;i<steps.length&&!steps[i].hasAttribute("aria-current");i++)steps[i].classList.add("completed"),steps[i].insertAdjacentHTML("afterbegin","<span>Completed step: </span>");function ethicalToggle(){!0===ethicalCheckbox.checked?ethicsReport.hidden=!1:ethicsReport.hidden=!0}if(document.querySelector("#c-ethical")){var ethicalCheckbox=document.querySelector("#c-ethical"),ethicsReport=document.querySelector("#c-ethicsreport");ethicalToggle(),ethicalCheckbox.addEventListener("change",function(){ethicalToggle()})}function accordion(r){r.forEach(function(e,t){0===t&&(e.open=!0),e.addEventListener("click",function(){r.forEach(function(e){e!==this&&(e.open=!1)},this)})})}if(document.querySelector(".c-accordion")){var fundingAccordionEls=document.querySelectorAll("#accordion-funding details"),datasetsAccordtionEls=document.querySelectorAll("#accordion-datasets details"),distributionAccordionEls=document.querySelectorAll("#accordion-distribution details");accordion(fundingAccordionEls),accordion(datasetsAccordtionEls),accordion(distributionAccordionEls)}function removeFields(){buttonRemove.forEach(function(e){e.removeAttribute("hidden")}),fieldGroups.forEach(function(e){e.querySelector(".e-button3").addEventListener("click",function(){this.parentElement.remove(),focusFirstLabel()})})}function focusFirstLabel(){document.querySelector(".c-other__fieldgroup:last-child label").focus()}function elAttributes(e){e.forEach(function(e){e.hasAttribute("aria-label")&&e.setAttribute("aria-label",e.getAttribute("aria-label")+" "+counter),e.hasAttribute("id")&&e.setAttribute("id",e.getAttribute("id")+counter),e.hasAttribute("name")&&e.setAttribute("name",e.getAttribute("name")+counter),e.hasAttribute("for")&&e.setAttribute("for",e.getAttribute("for")+counter)})}if(document.querySelector(".c-other")){var fields=document.querySelector(".c-other__fields"),fieldGroups=document.querySelectorAll(".c-other__fieldgroup"),buttonAdd=document.querySelector("#button-add"),buttonRemove=document.querySelectorAll(".e-button3"),counter=1;if(0<fieldGroups.length){var fieldGroupNumbers=[].map.call(fieldGroups,function(e){return e.getAttribute("aria-label").replace(/\D/g,"")}),highestNumber=Math.max.apply(Math,fieldGroupNumbers);counter=highestNumber}removeFields();var template=document.querySelector("template").content;template=document.importNode(template,!0),buttonAdd.addEventListener("click",function(){counter++,template=document.querySelector("template").content;var e=(template=document.importNode(template,!0)).querySelectorAll(".c-other__fieldgroup"),t=template.querySelectorAll("input"),r=template.querySelectorAll("select"),o=template.querySelectorAll("textarea"),c=template.querySelectorAll("label");elAttributes(e),elAttributes(t),elAttributes(r),elAttributes(o),elAttributes(c),fieldGroups=document.querySelectorAll(".c-other__fieldgroup"),buttonRemove=document.querySelectorAll(".e-button3"),removeFields(),fields.appendChild(template),focusFirstLabel()})}